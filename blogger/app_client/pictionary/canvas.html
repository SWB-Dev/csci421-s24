<!DOCTYPE html>
<html>
	<head>
		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
	</head>
	<body class="container-fluid">
		<div class="grid">
			<div class="row">
				<div cass="col-sm">
					<h1>Drawing: <span class="badge bg-secondary">Pig</span></h1>
					<canvas class="border border-1 border-dark" id="myCanvas">
					Sorry, your browser does not support canvas.
					</canvas>
				</div>
				<div class="col">
					<p>Chosen Color</p>
				</div>
			</div>
		</div>
		<div>
			<button id="clearCanvas">Clear Canvas</button>
		</div>
		<div>
			<div>
				<p><b>Guesses</b></p>
				<ul>
					<li>Guess 1</li>
					<li>Guess 2</li>
				</ul>
				<input type="text" />
				<button type="submit">Submit</button>
			</div>
		</div>
		<script>
			// Create a canvas
			const canvas = document.getElementById("myCanvas");
			const ctx = canvas.getContext("2d");
			const btnClear = document.getElementById("clearCanvas");
			var drawPos = [0,0];
			var isDrawing = false;
			
			btnClear.addEventListener('click', () => ctx.clearRect(0,0,600,400));
			
			canvas.addEventListener('mousedown', (event) => startDrawing(event));
			canvas.addEventListener('mouseup', (event) => stopDrawing(event));
			canvas.addEventListener('mousemove', (event) => userDraw(event));
			
			var getCoord = (event) => {
				offset_x = 7;
				offset_y = 7;
				return [event.clientX - offset_x, event.clientY - offset_y];
			};
			
			var startDrawing = (event) => {
				drawPos = getCoord(event);
				isDrawing = true;
			};
			
			var stopDrawing = (event) => {
				isDrawing = false;
				drawPos = [0,0];
			};
			
			var userDraw = (event) => {
				console.log('Mouse move event');
				if (isDrawing) {
					var pos = getCoord(event);
					ctx.beginPath();
					ctx.moveTo(drawPos[0], drawPos[1]);
					ctx.lineTo(pos[0], pos[1]);
					ctx.stroke();
					drawPos = pos;
				}
			};
			
			function clickColor (hex, a, b) {
				console.log(hex);
				document.getElementById('chosenColor').style.backgroundColor = hex;
				if (hex === "#FFFFFF") {
					ctx.strokeStyle = "#000000";
				} else {
					ctx.strokeStyle = hex;
				}
			};
			
			function mouseOverColor () {};
			function mouseOutMap () {};
		</script>
	</body>
</html>